Name: InC
Details: The Inform-tools extension to the C programming language
Extension: .c
Supports Namespaces: true
Multiline Comment Open: /*
Multiline Comment Close: */
Line Comment: //
String Literal: "
String Literal Escape: \
Character Literal: '
Character Literal Escape: \
C-Like: true
Supports Enumerations: true
Hexadecimal Literal Prefix: 0x
Negative Literal Prefix: -

# The "shebang" routine for a language is called to add anything it wants to
# at the very top of the tangled code. (For a scripting language such as
# Perl or Python, that might be a shebang: hence the name.)
# But we will use it to defime the constant PLATFORM_POSIX everywhere except
# Windows. This needs to happen right at the top, because the "very early
# code" in a tangle may contain material conditional on whether it is defined.

Shebang: #ifndef PLATFORM_WINDOWS\n#define PLATFORM_POSIX\n#endif\n

Before Macro Expansion: \n{\n
After Macro Expansion: }\n
Start Ifdef: #ifdef %S\n
End Ifdef: #endif /* %S */\n
Start Ifndef: #ifndef %S\n
End Ifndef: #endif /* %S */\n
Line Marker: #line %d "%f"\n

Start Definition: #define %S\s
Prolong Definition: \\\n\s\s\s\s
End Definition: \n

# FILE gets in even though it's not technically reserved but only a type
# name, defined in the standard C library.

keyword FILE => !reserved

keyword auto => !reserved
keyword break => !reserved
keyword case => !reserved
keyword char => !reserved
keyword const => !reserved
keyword continue => !reserved
keyword default => !reserved
keyword do => !reserved
keyword double => !reserved
keyword else => !reserved
keyword enum => !reserved
keyword extern => !reserved
keyword float => !reserved
keyword for => !reserved
keyword goto => !reserved
keyword if => !reserved
keyword int => !reserved
keyword long => !reserved
keyword register => !reserved
keyword return => !reserved
keyword short => !reserved
keyword signed => !reserved
keyword sizeof => !reserved
keyword static => !reserved
keyword struct => !reserved
keyword switch => !reserved
keyword typedef => !reserved
keyword union => !reserved
keyword unsigned => !reserved
keyword void => !reserved
keyword volatile => !reserved
keyword while => !reserved

colouring {
	runs of unquoted {
		runs of !identifier {
			keyword !reserved => !reserved
			keyword !function => !function
			keyword !constant => !constant
			keyword !element => {
				optionally spaced prefix . => !element
				optionally spaced prefix -> => !element
			}
		}
	}
}
